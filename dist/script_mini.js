let pokemonRepository=function(){let e=[],t=document.querySelector(".modal");function n(t){"object"==typeof t?e.push(t):console.log("pokemon input is not correct")}function o(){return e}var i=()=>{let e=document.querySelector("#input").value.toLowerCase();document.querySelectorAll(".list-group-item").forEach(t=>{t.querySelector(".btn-secondary").innerText.toLowerCase().includes(e)?t.style.display="inline-block":t.style.display="none"})};function r(e){let n=document.querySelector(".modal-title");n.innerText="";let o=document.querySelector(".pokemonHeight");o.innerText="";let i=document.querySelector(".pokemonWeight");i.innerText="";let r=document.querySelector(".PokomoneImg");r.src="",pokemonRepository.loadDetails(e).then(function(){n.innerText=e.name.toUpperCase(),o.innerText="Height: "+e.height+" m",i.innerText="Weight: "+e.weight+" kg",r.src=e.imageUrl;let s=document.querySelector(".close");s.classList.add("modal-close"),s.addEventListener("click",l),t.classList.add("is-visible"),t.addEventListener("click",e=>{let n=e.target;console.log(n),n===t&&l()})})}function l(){t.classList.remove("is-visible")}return document.querySelector("#input").addEventListener("input",()=>i()),window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&l()}),{add:n,getAll:o,addListItem:function e(t){let n=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("list-group-item","text-center");let i=document.createElement("button");i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#exampleModal"),i.classList.add("btn-secondary","mt-1","p-2","border-0","fs-5","btn"),i.innerText=t.name[0].toUpperCase()+t.name.substring(1),o.appendChild(i),n.appendChild(o),i.addEventListener("click",function(){r(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types,t.weight=e.weight}).catch(function(e){console.error(e)})},showDetails:r,hideModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});